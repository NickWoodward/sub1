import config from /* preval */ '../../../tailwind.config';
const { theme: { screens: { xl, lg, md, sm, xs, xxs }, extend: {colors: {primary}} } } = config;


export const createDeepCopy = (obj) => {
    const CloneSymbol = Symbol('clone');
    Date.prototype[CloneSymbol] = d => new Date(d.getTime());

    const m = Object.entries(obj).map(([k, v]) => {
        if (v === null) return [k, v];
        if (typeof v === 'object') {           
            const fn = v.constructor
            .prototype[CloneSymbol];
            return [k, fn ? fn(v) : createDeepCopy(v)]
        } else return [k, v];
    });

    return (
        Array.isArray(obj) ? m.reduce((a, [i, v]) => {
            a[i] = v;
            return a;
        }, []) : Object.fromEntries(m)
    );
};

export const debounce = (cb, delay = 250) => {
    let timeout;
  
    return (...args) => {
      clearTimeout(timeout)
      timeout = setTimeout(() => {
        cb(...args)
      }, delay)
    }
};

export const getMediaQueryLists = (cb) => {
    const screens = {
        xxsmall: null,
        xsmall: window.matchMedia(`(min-width: ${xs})`),
        small: window.matchMedia(`(min-width: ${sm})`),
        medium: window.matchMedia(`(min-width: ${md})`),
        large: window.matchMedia(`(min-width: ${lg})`),
        xlarge: window.matchMedia(`(min-width: ${xl})`),
    }

    for(let[scr, mql] of Object.entries(screens)) {
        if(mql) mql.addEventListener('change', cb)
    }

    return screens;
}

export const getScreenSize = (mqls) => {
    let size = null;
    for (let [scr, mq] of Object.entries(mqls)) {
      if (!mq || mq.matches) size = scr;
    }
    return size;
}

export const getSVGLoader = (solid, strokeWidth = 1.5) => {
    return (
        `${
            `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="30" viewBox="0 0 24 30"><path fill="#333" d="M0 13h4v5H0z"><animate attributeName="height" attributeType="XML" begin="0s" dur="0.6s" repeatCount="indefinite" values="5;21;5"/><animate attributeName="y" attributeType="XML" begin="0s" dur="0.6s" repeatCount="indefinite" values="13; 5; 13"/></path><path fill="#333" d="M10 13h4v5h-4z"><animate attributeName="height" attributeType="XML" begin="0.15s" dur="0.6s" repeatCount="indefinite" values="5;21;5"/><animate attributeName="y" attributeType="XML" begin="0.15s" dur="0.6s" repeatCount="indefinite" values="13; 5; 13"/></path><path fill="#333" d="M20 13h4v5h-4z"><animate attributeName="height" attributeType="XML" begin="0.3s" dur="0.6s" repeatCount="indefinite" values="5;21;5"/><animate attributeName="y" attributeType="XML" begin="0.3s" dur="0.6s" repeatCount="indefinite" values="13; 5; 13"/></path></svg>`
        }`
    );
};


export const getFAQBackground = () => {
    const bg1 = `
        <svg class="w-11/12 mx-auto" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 841.89 595.28"><symbol id="b" viewBox="-40.1 -40.22 80.2 80.43"><radialGradient id="a" cx="-35.33" cy="43.19" r="109.66" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="${primary}"/><stop offset="1" stop-color="${primary}"/></radialGradient><path fill="url(#a)" d="M-37.22 40.216h70.497s6.821.031 6.821-7.207v-69.625s-.422-6.326-4.539-2.209L-38.806 35.54s-3.779 4.676 1.586 4.676z"/></symbol><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".67" overflow="visible" transform="matrix(.1676 .2191 .2191 -.1676 761.7 272.053)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".64" overflow="visible" transform="matrix(-.1694 -.36 -.36 .1694 744.335 294.592)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".22" overflow="visible" transform="matrix(-.3129 -.2343 -.2343 .3129 687.102 328.233)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" overflow="visible" transform="matrix(-.432 -.4181 -.4181 .432 578.222 341.515)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".58" overflow="visible" transform="matrix(.1726 .8844 .8844 -.1726 442.578 310.466)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".59" overflow="visible" transform="matrix(-.5247 -.1505 -.1505 .5247 360.1 275.885)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".95" overflow="visible" transform="scale(.6963 -.6963) rotate(39.738 692.857 412.753)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".51" overflow="visible" transform="matrix(-.5011 .2767 .2767 .5011 216.093 239.418)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".7" overflow="visible" transform="matrix(-.4221 .0029 .0029 .4221 150.365 257.577)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".31" overflow="visible" transform="matrix(-.1863 -.2554 -.2554 .1863 101.835 284.397)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".19" overflow="visible" transform="matrix(-.023 -.1351 -.1351 .023 71.213 298.64)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".35" overflow="visible" transform="scale(-.53 .53) rotate(-88.508 -434.35 1012.37)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".64" overflow="visible" transform="matrix(-.425 .2643 .2643 .425 699.742 323.009)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".35" overflow="visible" transform="matrix(-.6067 .4932 .4932 .6067 541.326 349.342)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".61" overflow="visible" transform="scale(.768 -.768) rotate(29.646 967.998 791.017)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".7" overflow="visible" transform="scale(.7273 -.7273) rotate(70.541 420.28 97.226)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".38" overflow="visible" transform="matrix(.5038 .1976 .1976 -.5038 139.639 256.396)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".43" overflow="visible" transform="matrix(.2998 -.1951 -.1951 -.2998 68.526 304.596)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".9" overflow="visible" transform="matrix(.4184 .4129 .4129 -.4184 205.298 244.615)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".29" overflow="visible" transform="scale(.5918 -.5918) rotate(54.685 726.131 345.599)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".66" overflow="visible" transform="matrix(-.7424 .0313 .0313 .7424 482.478 329.972)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".55" overflow="visible" transform="matrix(.5616 -.4095 -.4095 -.5616 627.28 339.65)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".74" overflow="visible" transform="matrix(.0381 .2091 .2091 -.0381 799.797 255.484)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".45" overflow="visible" transform="matrix(.0448 .1311 .1311 -.0448 20.489 331.813)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".34" overflow="visible" transform="matrix(.1253 .0273 .0273 -.1253 32.126 324.886)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".21" overflow="visible" transform="matrix(.137 .154 .154 -.137 69.64 299.575)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".62" overflow="visible" transform="matrix(-.2005 -.335 -.335 .2005 139.406 271.181)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".16" overflow="visible" transform="matrix(-.098 .3754 .3754 .098 238.68 253.687)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".24" overflow="visible" transform="scale(.3744 -.3744) rotate(43.496 1217.287 612.13)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".72" overflow="visible" transform="scale(-.464 .464) rotate(-74.37 4.617 731.95)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" overflow="visible" transform="matrix(-.3973 .3118 .3118 .3973 360.533 263.007)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".83" overflow="visible" transform="matrix(-.4794 -.1543 -.1543 .4794 392.201 265.837)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".58" overflow="visible" transform="matrix(-.3332 -.4124 -.4124 .3332 404.311 291.455)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".35" overflow="visible" transform="matrix(-.4381 -.1333 -.1333 .4381 431.003 289.919)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".2" overflow="visible" transform="matrix(-.144 .4907 .4907 .144 467.787 312.532)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".57" overflow="visible" transform="matrix(.4316 .2034 .2034 -.4316 531.092 339.692)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".61" overflow="visible" transform="matrix(-.1874 .4206 .4206 .1874 596.001 346.745)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".25" overflow="visible" transform="matrix(-.3919 -.0223 -.0223 .3919 644.532 341.406)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".47" overflow="visible" transform="matrix(-.0372 .2797 .2797 .0372 700.8 323.01)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".55" overflow="visible" transform="scale(.1595 -.1595) rotate(52.9 4187.073 3872.151)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".64" overflow="visible" transform="matrix(.0478 .114 .114 -.0478 817.542 236.824)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".45" overflow="visible" transform="matrix(-.0448 -.1311 -.1311 .0448 805.976 249.57)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".34" overflow="visible" transform="matrix(-.1253 -.0273 -.0273 .1253 791.868 255.207)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".21" overflow="visible" transform="matrix(-.137 -.154 -.154 .137 758.438 279.258)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".62" overflow="visible" transform="matrix(.2005 .335 .335 -.2005 701.035 308.11)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".16" overflow="visible" transform="matrix(.098 -.3754 -.3754 -.098 604.69 346.87)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".24" overflow="visible" transform="matrix(-.2716 .2577 .2577 .2716 558.226 342.347)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".72" overflow="visible" transform="matrix(.125 .4468 .4468 -.125 508.032 342.418)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" overflow="visible" transform="scale(.505 -.505) rotate(38.125 1422.353 966.669)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".83" overflow="visible" transform="matrix(.4794 .1543 .1543 -.4794 416.373 321.876)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".58" overflow="visible" transform="matrix(.3332 .4124 .4124 -.3332 383.376 298.86)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".35" overflow="visible" transform="matrix(.4381 .1333 .1333 -.4381 386.86 274.982)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".2" overflow="visible" transform="matrix(.144 -.4907 -.4907 -.144 354.643 251.463)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".57" overflow="visible" transform="matrix(-.4316 -.2034 -.2034 .4316 299.633 241.586)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".61" overflow="visible" transform="scale(.4605 -.4605) rotate(65.984 650.852 78.114)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".25" overflow="visible" transform="matrix(.3919 .0223 .0223 -.3919 167.032 255.76)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".47" overflow="visible" transform="matrix(.0372 -.2797 -.2797 -.0372 133.565 262.765)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".55" overflow="visible" transform="matrix(-.0962 .1272 .1272 .0962 105.717 279.429)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".64" overflow="visible" transform="matrix(-.0478 -.114 -.114 .0478 49.735 305.832)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".08" overflow="visible" transform="matrix(.0514 .1655 .1655 -.0514 776.046 260.254)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".16" overflow="visible" transform="matrix(.0258 .1316 .1316 -.0258 788.698 256.67)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".22" overflow="visible" transform="matrix(-.0131 .1207 .1207 .0131 785.315 272.809)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".17" overflow="visible" transform="matrix(-.0167 .147 .147 .0167 773.104 280.987)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".22" overflow="visible" transform="matrix(-.0791 .1032 .1032 .0791 758.218 296.282)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".45" overflow="visible" transform="matrix(-.1416 .0766 .0766 .1416 731.812 315.732)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".97" overflow="visible" transform="matrix(.095 -.1521 -.1521 -.095 695.535 328.737)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" overflow="visible" transform="matrix(.0921 -.2015 -.2015 -.0921 664.398 338.196)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" overflow="visible" transform="matrix(.2487 .0145 .0145 -.2487 630.124 345.966)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".85" overflow="visible" transform="matrix(-.2651 .0235 .0235 .2651 582.882 354.47)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".69" overflow="visible" transform="matrix(-.2353 -.0515 -.0515 .2353 546.797 356.177)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".67" overflow="visible" transform="matrix(-.2555 .1292 .1292 .2555 521.509 353.713)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".73" overflow="visible" transform="matrix(.0982 .2725 .2725 -.0982 491.473 345.19)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".97" overflow="visible" transform="matrix(-.0777 .2724 .2724 .0777 455.08 333.14)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".98" overflow="visible" transform="matrix(-.2104 -.1729 -.1729 .2104 425.434 321.98)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".64" overflow="visible" transform="scale(-.242 .242) rotate(-53.116 454.67 2264.409)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".71" overflow="visible" transform="matrix(.0173 -.2528 -.2528 -.0173 359.84 282.86)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".96" overflow="visible" transform="matrix(.118 .2472 .2472 -.118 329.043 265.795)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".6" overflow="visible" transform="matrix(-.0101 .2877 .2877 .0101 277.838 256.379)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".25" overflow="visible" transform="matrix(.1173 .234 .234 -.1173 227.041 254.452)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".22" overflow="visible" transform="matrix(-.1869 .1654 .1654 .1869 206.002 256.407)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".37" overflow="visible" transform="matrix(-.2077 -.0587 -.0587 .2077 176.598 267.774)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".45" overflow="visible" transform="matrix(.0735 .1909 .1909 -.0735 153.305 268.864)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".49" overflow="visible" transform="matrix(.1534 -.0909 -.0909 -.1534 121.343 277.26)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".34" overflow="visible" transform="matrix(.0943 -.0673 -.0673 -.0943 86.342 292.556)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".31" overflow="visible" transform="matrix(.0899 -.0559 -.0559 -.0899 60.27 310.074)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".37" overflow="visible" transform="matrix(.0617 -.0689 -.0689 -.0617 48.451 320.599)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".42" overflow="visible" transform="matrix(.0729 -.1366 -.1366 -.0729 43.679 339.928)" xlink:href="#b"/><use width="80.2" height="80.43" x="-40.1" y="-40.22" opacity=".5" overflow="visible" transform="matrix(-.0298 -.1551 -.1551 .0298 31.245 338.226)" xlink:href="#b"/></svg>
    `;

    return bg1;
}

export const sleep = (ms) => {
    return new Promise(resolve => setTimeout(resolve, ms));
}